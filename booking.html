<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking</title>

    <!--    External Links-->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/style2.css">
    <!--    jQuery-->
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="main.js"></script>
    <style>
        .form-container {
            margin-left: 25%;
            margin-right: 25%;
        }

        .align-center {
            text-align: center;
        }

        @media only screen and (max-width: 600px) {
            .form-container {
                margin-left: 2%;
                margin-right: 2%;
            }
        }

        .section-margin-padding-top {
            padding-top: 10px;
            margin-top: 30px;
            padding-bottom: 30px;
        }

        select#roomtype > option {
            font-weight: bold;
            letter-spacing: 1px;
            color: #495057;
        }

        /*Progress Bar*/
        .progress-wrap {
            text-align: center;
            font-size: 50px;
            color: white;
            margin: 0 0 20px 0;
        }

        .progress-wrap progress {
            width: 100%;
            margin: 0 0 5px 0;
        }
        progress::-webkit-progress-value { background: #265f18 !important; }
        progress::-moz-progress-bar  { background: #265f18 !important; }
        /*Progress Bar*/
    </style>


</head>
<body>

    <!--HEADER-->
    <nav class="navbar header">
        <ul>
            <li><a href="index.html" style="font-weight: bolder;font-size: 19px">
                    Hotel Reservation System</a>
            </li>
            <li><a href="booking.html">Booking</a></li>
            <li><a href="service.html">Services</a></li>
            <li><a href="about.html">About Us</a></li>
            <li><a href="contact.html">Contact</a></li>
            <li><a href="gallery.html">Gallery</a></li>
            <li><a href="testimonials.html">Testimonials</a></li>
            <li class="beforeLogin"><a href="login.html" class="">
                    Login</a>
            </li>
            <li class="beforeLogin"><a href="register.html" class="">
                    Register</a>
            </li>
            <li class="afterLogin"><a href="userDetails2.html" class="">My WishList</a>
            </li>
            <li class="afterLogin"><a onclick="logout()" class="">
                    Logout</a>
            </li>
        </ul>
    </nav>
    <!--//HEADER-->

    <!--BOOKING FORM-->
    <div class="form-container section-margin-padding-top">


        <h2 class="align-center">Booking Form</h2>

        <form accept-charset="UTF-8" action="#" class="pro-form" id="pro-form" method="post">

            <div class="progress-wrap">
                <progress max="100" value="0" id="progress"></progress>
            </div>

            <label for="username">Name</label>
            <input type="text" id="username" name="username" required placeholder="Enter Name">

            <label for="email">Email</label>
            <input type="email" id="email" required name="email" placeholder="@gmail.com">

            <label for="checkin">CheckIn Date</label>
            <input type="date" id="checkin" name="checkin" required>

            <label for="checkout">CheckOut Date</label>
            <input type="date" id="checkout" name="checkout" required>

            <label for="roomtype">Room Type</label>
            <select name="roomtype" id="roomtype" required onchange="changePrice()">
                <option value="">---- Please Select ----</option>
                <option value="Single">Single</option>
                <option value="Double">Double</option>
                <option value="Triple">Triple</option>
                <option value="Quad">Quad</option>
                <option value="King">King</option>
                <option value="Twin">Twin</option>
            </select>

            <label for="totalprice">Total Price (&#x20B9;)</label>
            <input type="text" name="totalprice" id="totalprice" required value="" placeholder="Please Select Room Type"
                readonly>

            <div class="align-center">
                <input type="submit" value="Submit" name="submit" id="submit" class="btn btn-success">
                <input type="reset" value="Reset" name="reset" id="reset" class="btn btn-dark">
            </div>
        </form>
    </div>
    <!--//BOOKING FORM-->

    <!--FOOTER-->
    <footer>
        <div class="footer-wrapper">
            <div class="nav-wrapper sm-text-center">
                <div class="dots-wrapper">
                    <a class="footer-title" style="color: white;text-decoration: none;margin-top: 10px"
                        href="index.html">
                        Hotel Reservation System
                    </a>
                </div>
                <div>
                    <ul>
                        <li><a href="booking.html">Booking</a></li>
                        <li><a href="service.html">Services</a></li>
                        <li><a href="about.html">About us</a></li>
                        <li><a href="contact.html">Contact</a></li>
                        <li><a href="gallery.html">Gallery</a></li>
                        <li><a href="testimonials.html">Testimonials</a></li>

                    </ul>
                </div>
            </div>
            <div class="nav-wrapper sm-text-center" style="margin-top: 30px">
                <div class="diplay-block">
                    <a class="" href="#" style="color: white;text-decoration: none">
                        All right Reserved
                    </a>
                </div>
                <div class="diplay-block">
                    <a class="" href="#" style="color: white;text-decoration: none">
                        &#169; Created by ASR
                    </a>
                </div>
            </div>
        </div>
    </footer>
    <!--//FOOTER-->

    <!-- PROGRESS BAR-->
<script>


    function setProgressbarValue()
    {
        var numValid = 0;
        $('select,input[type=text],input[type=date],input[type=email],input[type=number]').each(function () {
            if (this.validity.valid) {
                console.log(this);
                numValid++;
            }
        });
        var progress = $("#progress");
        progress.attr("value", Math.round(numValid * 16.6));
    }
    $("input[required]").keyup(function () {
        setProgressbarValue()
    });
    $("select,input[type=date]").change(function () {
       setProgressbarValue();
    });
</script>
<!-- //PROGRESS BAR-->

<script>
    let db = null;

    // ADD BUTTON
    let btnAdd = document.getElementById("submit");
    btnAdd.addEventListener("click", addNewNote)

    // ADD NEW NOTE
    function addNewNote() {
        let newNote = {
            username: document.getElementById("username").value,
            email: document.getElementById("email").value,
            checkin: document.getElementById("checkin").value,
            checkout: document.getElementById("checkout").value,
            roomtype: document.getElementById("roomtype").value,
            totalprice: document.getElementById("totalprice").value,
        }
        console.log(newNote)
        const crudOpt = db.transaction("Bookings", "readwrite")
        const noteObj = crudOpt.objectStore("Bookings");
        noteObj.add(newNote);
        console.log("Data Saved..!");
        alert("Booking Done Successfully");
        // viewNotes()
    }
</script>

</body>

</html>